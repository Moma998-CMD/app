<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Video Feed Mini App</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://alwingulla.com/88/p.js" data-zone="10592465" data-sdk="show_10592465"></script>
    <style>
        /* Fondo gris oscuro por defecto */
        body { 
            background-color: #121212; 
            color: #e5e7eb; 
            transition: all 0.3s ease; 
        }
        /* Estilo de las tarjetas */
        .card { 
            background-color: #1e1e1e; 
            border: 1px solid #333; 
            border-radius: 8px; 
            margin-bottom: 12px;
            transition: transform 0.2s;
        }
        .card:active { transform: scale(0.98); }
        
        /* Ajuste para modo claro si se presiona el bot√≥n */
        .light-mode { background-color: #f3f4f6; color: #1f2937; }
        .light-mode .card { background-color: #ffffff; border-color: #e5e7eb; }
    </style>
</head>
<body class="p-4 font-sans" id="body">

    <div class="flex justify-between items-center mb-6 px-1">
        <h1 class="text-xl font-bold text-white" id="title">Cinemaposting</h1>
        <button onclick="toggleTheme()" class="bg-gray-800 p-2 rounded-lg text-lg" id="themeBtn">üåô</button>
    </div>

    <div id="video-list">
        <div onclick="playWithAds('https://www.youtube.com/shorts/lC7G-mcpwek')" class="card p-4 flex items-center cursor-pointer shadow-lg">
            <div class="w-14 h-14 bg-gray-800 flex items-center justify-center text-3xl font-serif text-gray-500 mr-4 rounded">P</div>
            <div class="flex-grow">
                <div class="flex justify-between items-start">
                    <div>
                        <h3 class="text-blue-400 font-semibold">purple</h3>
                        <p class="text-xs text-gray-500">Publicada ‚Ä¢ 9 feb</p>
                    </div>
                    <div class="text-right">
                        <span class="text-[10px] text-gray-400 block">Recetas Con Do√±a...</span>
                        <div class="flex items-center justify-end gap-2 mt-2 text-gray-500 text-xs">
                            <span>üîó</span> <span>üí¨ 0</span> <span class="font-bold">üëÅÔ∏è 274</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div onclick="playWithAds('https://www.youtube.com/shorts/OTRO_VIDEO')" class="card p-4 flex items-center cursor-pointer shadow-lg">
            <div class="w-14 h-14 bg-gray-800 flex items-center justify-center text-3xl font-serif text-gray-500 mr-4 rounded">S</div>
            <div class="flex-grow">
                <div class="flex justify-between items-start">
                    <div>
                        <h3 class="text-blue-400 font-semibold">suaveeee</h3>
                        <p class="text-xs text-gray-500">Publicada ‚Ä¢ 9 feb</p>
                    </div>
                    <div class="text-right">
                        <span class="text-[10px] text-gray-400 block">Recetas Con Do√±a...</span>
                        <div class="flex items-center justify-end gap-2 mt-2 text-gray-500 text-xs">
                            <span>üîó</span> <span>üí¨ 0</span> <span class="font-bold">üëÅÔ∏è 232</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand();
        // Configurar el color de la cabecera en Telegram
        tg.setHeaderColor('#121212');

        function toggleTheme() {
            const body = document.getElementById('body');
            const btn = document.getElementById('themeBtn');
            const title = document.getElementById('title');
            
            body.classList.toggle('light-mode');
            
            if (body.classList.contains('light-mode')) {
                btn.innerText = '‚òÄÔ∏è';
                title.classList.replace('text-white', 'text-gray-800');
                tg.setHeaderColor('#f3f4f6');
            } else {
                btn.innerText = 'üåô';
                title.classList.replace('text-gray-800', 'text-white');
                tg.setHeaderColor('#121212');
            }
        }

        function playWithAds(videoUrl) {
            // Verifica si la funci√≥n de Monetag existe
            if (typeof show_10592465 === 'function') {
                show_10592465().then(() => {
                    // El anuncio se vio, vamos al video
                    window.open(videoUrl, '_blank');
                }).catch((e) => {
                    // Error o anuncio bloqueado, vamos al video igual
                    window.open(videoUrl, '_blank');
                });
            } else {
                window.open(videoUrl, '_blank');
            }
        }
    </script>
</body>
</html>
